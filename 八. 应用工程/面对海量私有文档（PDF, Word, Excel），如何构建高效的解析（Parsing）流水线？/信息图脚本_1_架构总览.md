# 信息图设计脚本 1/3：架构总览与智能分诊

> **文档来源**：面对海量私有文档（PDF, Word, Excel），如何构建高效的解析（Parsing）流水线？
> **目标尺寸**：1280px x 1714px (竖版)
> **设计风格**：极简、浅色系、模块化、无障碍友好

---

## 🎨 全局视觉规范 (Visual System)

### 1. 配色方案 (Light Theme Only)

所有背景色必须保持极浅，通过边框或文字颜色区分层级，确保 WCAG AA 级对比度。

| 角色         | HEX 码                          | 用途说明                     |
| :----------- | :------------------------------ | :--------------------------- |
| **画布背景** | `#F8F9FA`                       | 全局背景，营造纸张质感       |
| **主文本**   | `#263238`                       | 标题、正文核心信息           |
| **次文本**   | `#546E7A`                       | 说明文字、标注               |
| **功能蓝**   | `#E3F2FD` (底) / `#1565C0` (文) | 架构框、科技概念、流程       |
| **成功绿**   | `#E8F5E9` (底) / `#2E7D32` (文) | Fast Track、通过、清洗后     |
| **警示橙**   | `#FFF8E1` (底) / `#EF6C00` (文) | 警告、Slow Track、原始脏数据 |
| **结构紫**   | `#F3E5F5` (底) / `#6A1B9A` (文) | JSON、Schema、数据结构       |
| **边框线**   | `#CFD8DC`                       | 分隔线、卡片边框             |

### 2. 布局网格

- **边距 (Padding)**: 上下 80px，左右 60px
- **模块间距**: 40px
- **卡片圆角**: 12px
- **线条风格**: 2px 实线，圆头 (Round Cap)

---

## 🖼️ 画布内容：架构总览与智能分诊 (The Architecture & Routing)

### 1. 顶部区域 (Header) [0px - 250px]

- **背景**: `#F8F9FA`
- **标题**: "海量私有文档解析流水线" (32pt, Bold, `#263238`)
- **副标题**: "一份可落地的工程手册：从非结构化文件到可检索知识" (24pt, Regular, `#546E7A`)
- **核心理念卡片**:
  - **背景**: `#E3F2FD`
  - **文案**: "把解析当成一套'可运营'的数据工程系统，而不是一次性格式转换。"
  - **图标**: 🏭 (工厂流水线 icon, 线性风格)

### 2. 痛点分析 [250px - 600px]

- **布局**: 左图右文或三列对比
- **标题**: "为什么直接用 Loader 会翻车？"
- **三个视觉模块**:
  1.  **质量失控** (背景 `#FFF8E1`):
      - 视觉: 乱码符号 ``、被打散的表格数字。
      - 文案: "扫描件读不出、表格被打散、乱码污染向量库"
  2.  **成本爆炸** (背景 `#FFF8E1`):
      - 视觉: 燃烧的 GPU 图标 📉。
      - 文案: "全量 OCR 拖死 GPU，长尾任务吞噬预算"
  3.  **事实冲突** (背景 `#FFF8E1`):
      - 视觉: 两个对话气泡互相矛盾。
      - 文案: "修订、批注混入正文，检索到过期内容"

### 3. 总体架构 [600px - 1100px]

- **布局**: 垂直堆叠的层级图，用箭头连接。
- **层级设计** (自下而上或流程向右):
  1.  **Ingest** (灰色 `#ECEFF1`): 接入与确权 (ID, URI, ACL)
  2.  **Route** (蓝色 `#E3F2FD`): **分诊 (Fast/Slow)** -> _高亮强调_
  3.  **Parse & Clean** (紫色 `#F3E5F5`): 格式专科处理 (PDF/Office)
  4.  **Normalize** (绿色 `#E8F5E9`): 统一中间态 (Markdown + JSONL)
  5.  **Evaluate** (橙色 `#FFF3E0`): 监控与闭环
- **连接线**: 带有箭头的灰色虚线，表示数据流动。

### 4. 智能分诊 (Route: The Cost Saver) [1100px - 1600px]

- **布局**: 智能分流节点图 (Decision Node)。
- **输入**: 文档图标 (只读第一页)。
- **异常探针 (Anomaly Probes)** (命中任一条件即判定为“疑难杂症”，送入慢速通道):
  - 📏 **提取失败/扫描件** (条件: 字符数 < 50) ➡️ 只有图没有字
  - 🖼️ **纯图文档** (条件: 图片占比 > 80%) ➡️ 无法直接复制文本
  - 🔣 **编码丢失** (条件: 乱码率 > 20%) ➡️ 字体表损坏
- **输出分流**:
  - **✅ 未命中探针 ➡️ Fast Track (CPU)** (绿色宽通道):
    - 纯文本提取 (PyMuPDF) -> **低成本处理 90% 常规文档**
  - **⚠️ 命中探针 ➡️ Slow Track (GPU)** (橙色窄通道):
    - 视觉模型介入 (OCR/VLM) -> **高成本攻克 10% 疑难杂症**
- **页脚**: "分诊目标：用廉价 CPU 处理大多数，用昂贵 GPU 攻克硬骨头。"

---

## 💾 输出检查清单 (Pre-flight Check)

- [ ] 所有文本对比度是否满足 4.5:1 ?
- [ ] 流程图箭头方向是否逻辑一致？
- [ ] 字体大小是否适合移动端阅读 (最小字号不小于 16pt)？
- [ ] 关键代码/Schema 字段是否使用了等宽字体？
