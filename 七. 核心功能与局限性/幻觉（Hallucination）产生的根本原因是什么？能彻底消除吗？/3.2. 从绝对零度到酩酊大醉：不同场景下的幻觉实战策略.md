# 3.2 从绝对零度到酩酊大醉：不同场景下的幻觉实战策略

在上一篇《3.1 工程师的控制台》中，我们介绍了调节幻觉的四个关键旋钮：**温度、RAG、结构化输出、推理模型**。

今天，我们进入实战环节。针对三种截然不同的业务场景，我们将手把手教你如何配置这些旋钮，实现从“绝对严谨”到“疯狂创造”的无缝切换。

---

## 一、 场景 A：绝对零度 —— 严谨事实类任务

**适用场景**：
- 医疗咨询（“这种药能给孕妇吃吗？”）
- 法律合同分析
- 财务报表解读
- 代码生成（API 调用必须准确）

**核心策略：把幻觉关进笼子，上四道锁。**

### 1. 锁一：RAG 强绑定（Closed-book QA）
在这个模式下，严禁模型使用“训练数据”里的知识。
**Prompt 必须这样写：**
> “请**严格且仅**根据下方的【参考文档】回答问题。如果文档里没提到，请直接回答‘我不知道’，**严禁编造**。”

### 2. 锁二：使用推理模型（Reasoning Models）
对于极其重要的任务，别只靠 Prompt。直接切换到 **OpenAI o1** 或 **DeepSeek R1** 等推理模型。
这类模型自带“思维链（Chain of Thought）”，会在内部进行多轮逻辑推演和自我纠错。虽然速度慢一点，但在逻辑准确性上是降维打击。

### 3. 锁三：结构化输出（Structured Output）
不要让模型输出自然语言（Chat），强制它输出 JSON。
比如提取合同条款，定义一个 Schema，模型为了填空，会变得极其谨慎。

```json
{
  "risk_level": "high",
  "reason": "..."
}
```

### 4. 锁四：引用溯源（Citation）
强迫模型在每一句话后面加上脚注。
> “公司的年假是 15 天【来源：员工手册第 3 章】。”

**无法溯源的内容，一律视为幻觉并过滤掉。**

---

## 二、 场景 B：微醺状态 —— 文本辅助类任务

**适用场景**：
- 翻译（中译英，英译中）
- 文本润色/扩写
- 会议纪要总结
- 客服机器人（闲聊模式）

**核心策略：在“准确”和“流畅”之间走钢丝。**

### 1. 为什么不能“零幻觉”？
如果你让 Temperature = 0 去翻译小说，得到的往往是生硬的“机翻味”。
为了让语言优美、地道，我们需要一点点幻觉（即“联想能力”），让模型选择那些虽然概率不是最高、但更符合人类语感的词。

### 2. 参数推荐
- **Temperature**：设置在 **0.3 - 0.7** 之间。
- **Prompt 技巧**：使用 **Few-shot（少样本提示）**。
  给它 3 个高质量的翻译范例。模型会模仿范例的“调性”。这比单纯的命令“请翻译得信达雅”有效得多。

---

## 三、 场景 C：酩酊大醉 —— 创意生成类任务

**适用场景**：
- 写小说/剧本
- 头脑风暴（“给我 10 个关于未来厕所的疯狂点子”）
- 游戏 NPC 对话（需要性格鲜明，不能像客服）
- 起名字

**核心策略：主动刺激幻觉，把 Bug 变成 Feature。**

### 1. 为什么要“放大”幻觉？
在这些场景下，“平庸”是最大的敌人。
如果模型总是输出概率最高的词，写出来的小说就是陈词滥调（Cliché）。我们需要它“发疯”，把两个完全不相关的概念（比如“马桶”和“时间旅行”）强行拼在一起。**这就是创造力的本质。**

### 2. 参数推荐
- **Temperature**：**0.8 - 1.2**（甚至更高）。
- **Min-P 采样**：这是比 Top-P 更前沿的采样参数。它动态截断低概率词，在保证“逻辑连贯”的同时最大化“意外之喜”，非常适合创意写作。

### 3. Prompt 技巧：解除封印
不要在 System Prompt 里写“你是一个有用的助手”。要写：
> “你是一个喝醉了的超现实主义诗人。你的逻辑是跳跃的，你的比喻是荒诞的。请不要使用任何套话。”

---

## 四、 终极形态：Agentic Swarm（智能体集群）

在 2026 年，简单的 Router 已经不够用了。我们更多采用 **Agentic Swarm（智能体集群）** 模式。

面对一个复杂需求（比如“写一篇关于火星殖民的科幻小说，但里面的物理知识要符合现实”）：

1.  **Story Agent（疯子）**：Temp=1.0，负责狂野想象，构思情节。
2.  **Science Agent（教授）**：Temp=0，负责基于 RAG 查证物理定律，审核 Story Agent 的点子是否科学。
3.  **Editor Agent（主编）**：负责综合两者的输出，既保留故事性，又修正硬伤。

**这不再是单一模型的参数调整，而是不同“性格”的模型之间的博弈与协作。**

---

## 结语

不要试图消灭幻觉，除非你想消灭智能。

- 在手术台上，我们要的是像手术刀一样精准的冷酷模型。
- 在酒吧里，我们要的是能陪你吹牛、讲段子的有趣模型。

**同一个模型，调节好参数和 Prompt，既可以是严谨的教授，也可以是疯狂的艺术家。这才是 LLM 最迷人的地方。**
